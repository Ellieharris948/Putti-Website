/* =========================================================
   WHY US â€” BLOCKY / NO-GRADIENT / DROP-DOWN VERSION
   ========================================================= */

#why {
  /* tweak these to taste */
  --rail-h: 70px;           /* thickness of the purple bar */
  --pill-h: 40px;           /* pill height */
  --gap: 12px;              /* spacing between pills */
  --ease: cubic-bezier(.2,.7,.2,1);

  /* solid colors (no gradients) */
  --rail: #53185a;          /* purple bar */
  --pill: #ee9cea;          /* inactive pill */
  --pill-active: #fffdf3;   /* active pill */
  --text: #0f0f0f;          /* black-ish text */
  --shadow: 0 14px 26px rgba(0,0,0,.18);
}

/* ---------- Heading ---------- */
#why h3 {
  text-align: center;
  font-weight: 900;
  letter-spacing: .3px;
  font-size: clamp(1.9rem, 2.2vw + 1rem, 2.9rem);
  margin: 0 0 18px;
}

/* ---------- Pills + solid purple bar ---------- */
.why-pills {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: var(--gap);
  margin: 0 auto 22px;
  padding: calc((var(--rail-h) - var(--pill-h))/2) 18px;
  max-width: 980px;
}

.why-pills::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 40px;           /* blocky capsule */
  background: var(--rail);       /* solid purple (no gradient) */
  box-shadow: var(--shadow);
}

/* pills above the bar */
.why-pills > .pill {
  position: relative;
  z-index: 1;
}

.why-pills .pill {
  appearance: none;
  border: 0;
  height: var(--pill-h);
  padding: 0 18px;
  border-radius: var(--pill-h);
  background: var(--pill);               /* solid lilac */
  color: var(--text);                    /* black text */
  font: inherit;
  font-weight: 800;
  letter-spacing: .15px;
  cursor: pointer;
  box-shadow: inset 0 -2px 0 rgba(0,0,0,.12), 0 1px 2px rgba(0,0,0,.12);
  transition: transform .15s var(--ease), box-shadow .15s var(--ease), background .2s var(--ease);
}

.why-pills .pill:active { transform: translateY(1px); }

.why-pills .pill[aria-selected="true"] {
  background: var(--pill-active);        /* darker purple */
  color: var(--text);                    /* keep text black */
  box-shadow: inset 0 -3px 0 rgba(0,0,0,.18), 0 2px 4px rgba(0,0,0,.18);
}

/* ---------- Stage / Cards (drop-down animation) ---------- */
.why-stage {
  position: relative;
  min-height: 120px;          /* stable before measure */
  perspective: 800px;         /* slight depth for drop */
}
.why-stage--measured { transition: height .35s var(--ease); }

/* Base card state: hidden and slightly above (so it drops down) */
.why-card {
  position: absolute;
  left: 50%;
  top: 0;
  max-width: 60ch;
  transform: translate(-50%, -14px);  /* start just under the bar */
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition: transform .32s var(--ease), opacity .28s var(--ease), visibility 0s linear .32s;
  padding: 2px 0 6px;
}

/* Active card: visible and settled */
.why-card.is-center {
  transform: translate(-50%, 0);
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
  transition: transform .32s var(--ease), opacity .28s var(--ease), visibility 0s;
}

/* Exiting card: drop a touch further and fade */
.why-card.is-exiting {
  transform: translate(-50%, 10px);
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

/* Copy centered under the bar */
#why .why-card p {
  text-align: center;
  margin: 0 auto;
}

/* ---------- Responsive ---------- */
@media (max-width: 840px) {
  #why { --rail-h: 64px; --pill-h: 38px; }
  .why-pills { max-width: 92vw; }
}
@media (max-width: 560px) {
  #why { --rail-h: 60px; --pill-h: 36px; }
  .why-pills { gap: 8px; padding: calc((var(--rail-h) - var(--pill-h))/2) 10px; }
  #why h3 { margin-bottom: 14px; }
}
